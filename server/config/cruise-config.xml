<?xml version="1.0" encoding="utf-8"?>
<cruise xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="cruise-config.xsd" schemaVersion="89">
  <server artifactsdir="artifacts" agentAutoRegisterKey="041b5c7e-dab2-11e5-a908-13f95f3c6ef6" commandRepositoryLocation="default" serverId="dev-id">
    <security>
      <passwordFile path="../manual-testing/ant_hg/password.properties" />
      <roles>
        <role name="xyz" />
      </roles>
      <admins>
        <user>admin</user>
      </admins>
    </security>
  </server>
  <scms>
    <scm id="31e09f31-d976-4a25-91f0-67d9ba7ddef9" name="mahesh_gocd">
      <pluginConfiguration id="github.pr" version="1" />
      <configuration>
        <property>
          <key>url</key>
          <value>https://github.com/maheshp/gocd.git</value>
        </property>
      </configuration>
    </scm>
  </scms>
  <pipelines group="first">
    <authorization>
      <view>
        <user>operate</user>
      </view>
      <admins>
        <user>operate</user>
      </admins>
    </authorization>
    <pipeline name="up42">
      <materials>
        <git url="/Users/maheshp/work/go/gocd" dest="some" materialName="dummy" />
      </materials>
      <stage name="up42_stage">
        <jobs>
          <job name="up42_job">
            <tasks>
              <exec command="/bin/bash">
                <arg>-c</arg>
                <arg>trap "" SIGINT SIGTERM SIGHUP; while sleep 2; do date; done</arg>
                <runif status="passed" />
              </exec>
              <exec command="ls">
                <arg>-al</arg>
                <runif status="passed" />
              </exec>
            </tasks>
          </job>
        </jobs>
      </stage>
      <stage name="test2">
        <jobs>
          <job name="some">
            <tasks>
              <exec command="ls" />
            </tasks>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="testPR" isLocked="true">
      <materials>
        <scm ref="31e09f31-d976-4a25-91f0-67d9ba7ddef9" />
      </materials>
      <stage name="defaultStage">
        <jobs>
          <job name="defaultJob">
            <tasks>
              <exec command="sleep">
                <arg>60</arg>
                <runif status="passed" />
              </exec>
              <exec command="ls">
                <arg>-al</arg>
                <runif status="passed" />
              </exec>
            </tasks>
          </job>
        </jobs>
      </stage>
    </pipeline>
  </pipelines>
  <agents>
    <agent hostname="maheshp.local" ipaddress="10.4.22.121" uuid="4cc9db57-3b67-4d29-b659-f87dff3ec857" />
  </agents>
</cruise>

